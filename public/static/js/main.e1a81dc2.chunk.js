(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{160:function(e,t,a){},181:function(e,t,a){},216:function(e,t,a){},217:function(e,t,a){},220:function(e,t,a){},243:function(e,t,a){},290:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},408:function(e,t,a){},409:function(e,t,a){},410:function(e,t,a){},411:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var r=a(0),c=a.n(r),s=a(26),n=a.n(s),i=(a(216),a.p,a(217),a(39)),o=a(16),l=a(4),u=function(e,t){switch(t.type){case"EMPTY_STATE":return{authenticated:!1,user:null,seller:null,error:!1};case"FETCH_SUCCESS":return{authenticated:!0,user:t.payload,seller:t.seller,error:!1};case"FETCH_FAILED":return{authenticated:!1,user:null,seller:null,error:t.payload};default:return e}},d=a(1),j={authenticated:!1,user:null,seller:null,isFetching:!1,error:!1},p=Object(r.createContext)(j),b=function(e){var t=e.children,a=Object(r.useReducer)(u,j),c=Object(l.a)(a,2),s=c[0],n=c[1];return Object(d.jsx)(p.Provider,{value:{authenticated:s.authenticated,user:s.user,seller:s.seller,isFetching:s.isFetching,error:s.error,dispatch:n},children:t})},h={latitude:null,longitude:null},O=function(e,t){switch(t.type){case"EMPTY_ADDRESS":return{latitude:null,longitude:null};case"UPDATE_ADDRESS":return{latitude:t.payload.latitude,longitude:t.payload.longitude};default:return e}},m=Object(r.createContext)(h),x=function(e){var t=e.children,a=Object(r.useReducer)(O,h),c=Object(l.a)(a,2),s=c[0],n=c[1];return Object(d.jsx)(m.Provider,{value:{latitude:s.latitude,longitude:s.longitude,dispatch:n},children:t})},v=a(9),f=a.n(v),g=a(15),N=(a(220),a.p,a(17)),S=a.n(N),y=function(e,t){switch(t){case"setOpen":default:return!e}},I=Object(r.createContext)(false),w=function(e){var t=e.children,a=Object(r.useReducer)(y,false),c=Object(l.a)(a,2),s=c[0],n=c[1];return Object(d.jsx)(I.Provider,{value:{isOpen:s,setOpen:function(){n("setOpen")}},children:t})},C=I;function k(){var e=Object(r.useContext)(p),t=e.authenticated,a=e.user,c=e.dispatch,s=Object(r.useContext)(C),n=(s.isOpen,s.setOpen),l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},u=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/private/getuser",l);case 2:t=e.sent,c(t?{type:"FETCH_SUCCESS",payload:t.data}:{type:"EMPTY_STATE"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){u()}),[]);var j=Object(o.g)();return Object(d.jsx)("div",{className:"topbar",children:Object(d.jsxs)("div",{className:"topbarWrapper",children:[Object(d.jsx)(i.b,{exact:!0,className:"nav-link",to:"/",children:Object(d.jsx)("span",{className:"homeLogo1",children:"MedStore"})}),Object(d.jsx)("span",{className:"homeLogo",onClick:function(){n()},children:"MedStore"}),Object(d.jsx)("ul",{className:"topbarList",children:!t&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("li",{className:"nav-item",children:Object(d.jsx)(i.b,{exact:!0,className:"nav-link",to:"/signin",children:"Login"})}),Object(d.jsx)("div",{class:"dropdown-menu",children:Object(d.jsxs)("div",{className:"dropdown-flex",children:[Object(d.jsxs)("li",{class:"menu-btn",children:["More ",Object(d.jsx)("i",{class:"fas fa-caret-down"})]}),Object(d.jsxs)("div",{class:"menu-content",children:[Object(d.jsx)(i.b,{exact:!0,className:"links-hidden",to:"/signup",children:"Signup"}),Object(d.jsx)(i.b,{exact:!0,className:"links-hidden",to:"/storesignin",children:"Sell on Medstore"})]})]})})]})}),t&&a&&Object(d.jsxs)("div",{className:"topbarProfile",children:[Object(d.jsx)("div",{class:"dropdown-menu",children:Object(d.jsxs)("div",{className:"dropdown-flex",children:[Object(d.jsx)("img",{className:"topbarProfImg",src:a.profileImg}),Object(d.jsxs)("li",{class:"menu-btn1",children:[a.email," "]}),Object(d.jsx)("div",{class:"menu-content1",children:Object(d.jsx)(i.b,{exact:!0,className:"links-hidden",to:"/userdashboard/profile",children:"DashBoard"})})]})}),Object(d.jsxs)("div",{className:"cartDiv",onClick:function(){return j.push("/userdashboard/addtocart")},children:[Object(d.jsx)("span",{className:"cartNumber",children:a.cartItem.length}),Object(d.jsx)("i",{class:"fa fa-shopping-cart","aria-hidden":"true"})]})]})]})})}a(243);var E=a(11),T=a(50),D=a(128),P=(a(159),a(290),a(70));a.n(P).a.workerClass=a(291).default;var A=function(e){var t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(null),i=Object(l.a)(n,2),o=i[0],u=i[1],j=Object(r.useState)({width:"95%",height:"95%",latitude:21.7679,longitude:78.8718,zoom:3.5}),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(r.useRef)(),m=Object(r.useCallback)((function(e){return h(e)}),[]),x=Object(r.useCallback)((function(e){return m(Object(E.a)(Object(E.a)({},e),{transitionDuration:1e3}))}),[m]);return Object(r.useEffect)((function(){s(e.value),e&&e.value.length>0&&x({width:"95%",height:"95%",latitude:parseFloat(e.value[0].latitude),longitude:parseFloat(e.value[0].longitude),zoom:6})}),[e.value]),Object(d.jsx)(T.d,Object(E.a)(Object(E.a)({className:"mapView",ref:O},b),{},{mapboxApiAccessToken:"pk.eyJ1Ijoic2tndXB0YTc3MTU5IiwiYSI6ImNrcm9keDNkdDE1eGoycm52Y2tqdW9oNDYifQ.9hd_nWxie94gqPgMx0b_ig",onViewportChange:m,mapStyle:"mapbox://styles/skgupta77159/ckrodymtt4fuj17mvlpbwydpq",children:c.map((function(e){return Object(d.jsxs)("div",{children:[Object(d.jsx)(T.b,{latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),offsetLeft:-20,offsetTop:-10,children:Object(d.jsx)("i",{className:"fas fa-clinic-medical",style:{fontSize:"20px",color:"#ff0000"},onClick:function(){return u(e._id)}})}),e._id===o&&Object(d.jsxs)(T.c,{latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude),closeButton:!0,closeOnClick:!1,onClose:function(){return u(null)},anchor:"bottom",children:[Object(d.jsx)("div",{children:Object(d.jsx)("b",{children:e.storeName})}),Object(d.jsx)("div",{children:e.storeAddress})]})]},e._id)}))}))},B=function(){var e=Object(r.useState)({loaded:!1,coordinates:{lat:"21.7679",lng:"78.8718"},error:null}),t=Object(l.a)(e,2),a=t[0],c=t[1],s=function(e){c({loaded:!0,coordinates:{lat:e.coords.latitude,lng:e.coords.longitude},error:null})},n=function(e){c({loaded:!0,coordinates:{lat:"21.7679",lng:"78.8718"},error:{code:e.code,message:e.message}})};return Object(r.useEffect)((function(){"geolocation"in navigator||n({code:0,message:"Geolocation not supported"}),navigator.geolocation.getCurrentPosition(s,n)}),[]),a},_=(a(292),function(e){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"productCards",children:Object(d.jsx)("a",{exact:!0,className:"links-hidden",href:"product/".concat(e.value._id),target:"_blank",style:{textDecoration:"none",color:"black"},children:Object(d.jsxs)("div",{className:"productCardWrapper",children:[Object(d.jsx)("img",{src:e.value.productImage,alt:"product_image",className:"productImg"}),Object(d.jsx)("h4",{className:"productTitle",children:e.value.productName}),Object(d.jsxs)("span",{className:"cardstorename",children:["by ",e.value.storeName]}),Object(d.jsx)("h4",{className:"productPrice",children:"Rs ".concat(e.value.productPrice,"/-")})]})})})})}),F=a(20),q=(a(293),a(442)),U=function(){var e=Object(r.useContext)(p).seller,t=Object(r.useState)({productName:"",productDescription:"",productImage:"",productPrice:NaN,productDetails:"",productQuantity:""}),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(""),i=Object(l.a)(n,2),u=i[0],j=i[1],b=Object(r.useState)(!1),h=Object(l.a)(b,2),O=h[0],m=h[1],x=(Object(o.g)(),function(e){e.preventDefault();var t=e.target.name,a=e.target.value;s(Object(E.a)(Object(E.a)({},c),{},Object(F.a)({},t,a)))}),v=function(){var t=Object(g.a)(f.a.mark((function t(a){var r,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),m(!0),j(!1),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=4,t.next=7,S.a.post("/api/private/storedashboard/addstoreproduct",Object(E.a)(Object(E.a)({},c),{},{sellerId:e._id,storeId:e.storeId}),r).catch((function(e){throw 409===e.response.status?(j("Invalid seller"),new Error("Invalid seller")):(j("Internal Server Error"),new Error("Internal Server Error"))}));case 7:n=t.sent,n.data,console.log(e),m(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),m(!1),j(t.t0.message);case 17:alert("Product Added Successfully"),s({productName:"",productDescription:"",productImage:"",productPrice:NaN,productDetails:"",productQuantity:""});case 19:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"productContainer",children:Object(d.jsx)("div",{className:"productWrapper",children:Object(d.jsx)("form",{className:"productRight",onSubmit:v,children:Object(d.jsxs)("div",{className:"productBox",children:[Object(d.jsx)("h1",{children:"Add Product"}),u?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:u})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"productInput",name:"productName",value:c.productName,onChange:x}),Object(d.jsx)("label",{for:"",children:"Title"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"productInput",name:"productDescription",value:c.productDescription,onChange:x}),Object(d.jsx)("label",{for:"",children:"Description"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"productInput",name:"productImage",value:c.productImage,onChange:x}),Object(d.jsx)("label",{for:"",children:"Image Url"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"number",required:!0,className:"productInput",name:"productPrice",value:c.productPrice,onChange:x}),Object(d.jsx)("label",{for:"",children:"Price"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"productInput",name:"productQuantity",value:c.productQuantity,onChange:x}),Object(d.jsx)("label",{for:"",children:"Quantity"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"productInput",name:"productDetails",value:c.productDetails,onChange:x}),Object(d.jsx)("label",{for:"",children:"Details"})]}),Object(d.jsx)("button",{type:"submit",className:"productButton",disabled:O,children:O?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Add Product"})]})})})})};function M(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)(""),n=Object(l.a)(s,2),i=n[0],o=n[1],u=Object(r.useState)([]),j=Object(l.a)(u,2),p=j[0],b=j[1],h=Object(r.useState)([]),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(r.useState)("N/A"),N=Object(l.a)(v,2),y=N[0],I=N[1],w=Object(r.useState)(!0),C=Object(l.a)(w,2),k=C[0],E=C[1],T=Object(r.useState)(!1),D=Object(l.a)(T,2),P=D[0],F=D[1],U=B();Object(r.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var t,a,r,s,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],U.error){e.next=11;break}return E(!0),e.next=5,S.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(U.coordinates.lng,",").concat(U.coordinates.lat,".json?access_token=").concat("pk.eyJ1Ijoic2tndXB0YTc3MTU5IiwiYSI6ImNrcm9keDNkdDE1eGoycm52Y2tqdW9oNDYifQ.9hd_nWxie94gqPgMx0b_ig"));case 5:for(a=e.sent,r=a.data.features,s=1;s<r.length;s++)n={id:r[s].place_type[0],name:r[s].text},t.push(n);c(t),e.next=12;break;case 11:E(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[U.coordinates]),Object(r.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/private/getrandomproducts");case 3:t=e.sent,b(t.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var M=function(){var e=Object(g.a)(f.a.mark((function e(t){var r,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),F(!0),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=3,c=0;case 5:if(!(c<a.length)){e.next=15;break}if(a[c].id!==y){e.next=12;break}return console.log(y,a[c].name),e.next=10,S.a.post("/api/private/searchproduct",{locationName:y,location:a[c].name,searchValue:i},r);case 10:(s=e.sent).data.message?(b([]),x([])):(b(s.data.product),console.log(s.data.product),x(s.data.stores));case 12:c++,e.next=5;break;case 15:F(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),F(!1),console.log("Error in fetching products");case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"home",children:[k?null:Object(d.jsx)("div",{className:"locError",children:Object(d.jsx)("span",{className:"locErrorSpan",children:"Please allow the location permission and refresh the page again."})}),Object(d.jsxs)("div",{className:"homeWrapper",children:[Object(d.jsx)("div",{className:"homeLeft",children:Object(d.jsxs)("div",{className:"leftWrapper",children:[Object(d.jsxs)("div",{className:"inputItem",children:[Object(d.jsx)("i",{className:"fas fa-search"}),Object(d.jsx)("input",{onChange:function(e){e.preventDefault(),o(e.target.value)},value:i,className:"inputProduct",placeholder:"Search products here..."})]}),Object(d.jsxs)("div",{className:"selectItem",children:[Object(d.jsxs)("select",{id:"dropdown",onChange:function(e){e.preventDefault(),I(e.target.value)},children:[Object(d.jsx)("option",{value:"N/A",children:"Select Location"}),a.map((function(e){return Object(d.jsx)("option",{value:e.id,name:e.name,children:e.name},e.id)}))]}),Object(d.jsx)("button",{onClick:M,className:"searchButton",disabled:!k,children:"Search"})]}),Object(d.jsx)("div",{className:"productsDiv",children:P?Object(d.jsx)(q.a,{color:"grey",size:"40px"}):p&&p.length>0?p.map((function(e,t){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(_,{value:e},t)})})):"No Product Found"})]})}),Object(d.jsx)("div",{className:"homeRight",children:Object(d.jsx)(A,{value:m})})]})]})}a(294);function z(){var e=Object(r.useContext)(p),t=(e.authenticated,e.user,e.dispatch,Object(r.useState)("")),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)({email:"",password:""}),i=Object(l.a)(n,2),u=i[0],j=i[1],b=Object(r.useState)(!1),h=Object(l.a)(b,2),O=h[0],m=h[1],x=Object(o.g)(),v=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;j(Object(E.a)(Object(E.a)({},u),{},Object(F.a)({},t,a)))},N=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),m(!0),s(!1),a={header:{"Content-Type":"application/json"}},e.prev=4,e.next=7,S.a.post("/api/auth/signin",u,a);case 7:r=e.sent,c=r.data,localStorage.setItem("authToken",c.token),m(!1),x.push("/userdashboard/profile"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),s(e.t0.response.data.error),m(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"loginContainer",children:Object(d.jsx)("div",{className:"loginWrapper",children:Object(d.jsx)("form",{className:"loginRight",onSubmit:N,children:Object(d.jsxs)("div",{className:"loginBox1",children:[c?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:c})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"loginInput",name:"email",value:u.email,onChange:v}),Object(d.jsx)("label",{for:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"loginInput",name:"password",value:u.password,onChange:v}),Object(d.jsx)("label",{for:"",children:"Password"})]}),Object(d.jsx)("button",{type:"submit",className:"loginButton",disabled:O,children:O?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Log In"}),Object(d.jsx)("span",{className:"loginForgot",children:"Forgot password?"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),x.push("/signup")},className:"loginRegisterButton",disabled:O,children:O?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Create New Account"})]})})})})}a(295);function W(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({firstname:"",lastname:"",email:"",password:"",cpassword:""}),n=Object(l.a)(s,2),i=n[0],u=n[1],j=Object(r.useState)(!1),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(o.g)(),m=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;u(Object(E.a)(Object(E.a)({},i),{},Object(F.a)({},t,a)))},x=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),c(!1),a={header:{"Content-Type":"application/json"}},i.password!==i.cpassword){e.next=20;break}return e.prev=5,e.next=8,S.a.post("/api/auth/signup",i,a).catch((function(e){throw 409===e.response.status?(c("User Already Exist!"),new Error("user already exist")):(c("Internal Server Error"),new Error("Internal Server Error"))}));case 8:r=e.sent,s=r.data,localStorage.setItem("authToken",s.token),h(!1),O.push("/userdashboard/profile"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),h(!1);case 18:e.next=22;break;case 20:alert("Password don't match!"),h(!1);case 22:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"signupContainer",children:Object(d.jsx)("div",{className:"signupWrapper",children:Object(d.jsx)("form",{className:"signupRight",onSubmit:x,children:Object(d.jsxs)("div",{className:"signupBox",children:[a?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:a})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"signupInput",name:"firstname",value:i.firstname,onChange:m}),Object(d.jsx)("label",{for:"",children:"First name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"signupInput",name:"lastname",value:i.lastname,onChange:m}),Object(d.jsx)("label",{for:"",children:"Last name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"signupInput",name:"email",value:i.email,onChange:m}),Object(d.jsx)("label",{for:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"signupInput",name:"password",value:i.password,onChange:m}),Object(d.jsx)("label",{for:"",children:"Password"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"signupInput",name:"cpassword",value:i.cpassword,onChange:m}),Object(d.jsx)("label",{for:"",children:"Confirm Password"})]}),Object(d.jsx)("button",{type:"submit",className:"signupButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Sign Up"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),O.push("/signin")},className:"loginRegisterButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Log Into Account"})]})})})})}a(296);var L=a(446),Y=a(468),R=a(466),Q=a(454),H=a(449),J=a(450),G=a(448);function V(e){var t=Object(r.useContext)(p).user,a=c.a.useState(!1),s=Object(l.a)(a,2),n=s[0],i=s[1],o=Object(r.useState)(t),u=Object(l.a)(o,2),j=u[0],b=u[1],h=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;b(Object(E.a)(Object(E.a)({},j),{},Object(F.a)({},t,a)))},O=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(function(){var e=Object(g.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.post("/api/auth/updateuserdata",Object(E.a)({userId:t._id},j));case 3:a=e.sent,a.data&&(m(),alert("Profile Updated Successfully")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Error in updating user");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}})()();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:e.signal?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(L.a,{variant:"outlined",color:"primary",onClick:function(){i(!0)},children:"Edit Details"}),Object(d.jsxs)(R.a,{open:n,onClose:m,"aria-labelledby":"form-dialog-title",children:[Object(d.jsx)(G.a,{id:"form-dialog-title",children:"Update Profile"}),Object(d.jsxs)(H.a,{children:[Object(d.jsx)(J.a,{}),Object(d.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"profileImg",name:"profileImg",onChange:h,value:j.profileImg,label:"Profile Image Url",type:"text",fullWidth:!0}),Object(d.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"firstname",name:"firstname",onChange:h,value:j.firstname,label:"First Name",type:"text",fullWidth:!0}),Object(d.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"lastname",name:"lastname",onChange:h,value:j.lastname,label:"Last Name",type:"text",fullWidth:!0}),Object(d.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"userAddress",name:"userAddress",onChange:h,value:j.userAddress,label:"Delivery Address",type:"text",fullWidth:!0})]}),Object(d.jsxs)(Q.a,{children:[Object(d.jsx)(L.a,{onClick:m,color:"primary",children:"Cancel"}),Object(d.jsx)(L.a,{onClick:O,color:"primary",children:"Save Changes"})]})]})]}):null})}function X(){var e=Object(r.useContext)(p).user;return Object(d.jsx)("div",{className:"profile",children:e?Object(d.jsxs)("div",{className:"profileWrapper",children:[Object(d.jsx)("h1",{className:"profileHeading",children:"Profile"}),Object(d.jsx)("div",{className:"profileImgDiv",children:Object(d.jsx)("img",{className:"profileImg",src:e.profileImg})}),Object(d.jsx)(V,{signal:!0}),Object(d.jsxs)("div",{className:"pInfo",children:[Object(d.jsx)("h2",{children:"Personal Infomation"}),Object(d.jsxs)("p",{children:["First Name: ",e.firstname]}),Object(d.jsxs)("p",{children:["Last Name: ",e.lastname]})]}),Object(d.jsxs)("div",{className:"pInfo",children:[Object(d.jsx)("h2",{children:"Email"}),Object(d.jsxs)("p",{children:["Email: ",e.email]})]}),Object(d.jsxs)("div",{className:"pInfo",children:[Object(d.jsx)("h2",{children:"Address"}),Object(d.jsxs)("p",{children:["Delivery Address: ",e.userAddress]})]})]}):null})}var K=a(106),Z=["component"],$=function(e){var t=e.component,a=Object(K.a)(e,Z),c=Object(r.useContext)(p).dispatch,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},n=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/private/getuser",s);case 2:t=e.sent,c(t?{type:"FETCH_SUCCESS",payload:t.data}:{type:"EMPTY_STATE"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),Object(d.jsx)(o.b,Object(E.a)(Object(E.a)({},a),{},{render:function(e){return localStorage.getItem("authToken")?Object(d.jsx)(t,Object(E.a)({},e)):Object(d.jsx)(o.a,{to:"/signin"})}}))};a(297);var ee=function(){var e=Object(r.useContext)(m).dispatch,t=Object(r.useState)(null),a=Object(l.a)(t,2),c=(a[0],a[1],Object(r.useState)({width:"100%",height:"100%",latitude:21.7679,longitude:78.8718,zoom:3.5})),s=Object(l.a)(c,2),n=s[0],i=s[1],o=Object(r.useRef)(),u=Object(r.useCallback)((function(e){return i(e)}),[]),j=Object(r.useCallback)((function(t){return e({type:"UPDATE_ADDRESS",payload:{latitude:t.latitude,longitude:t.longitude}}),u(Object(E.a)(Object(E.a)({},t),{transitionDuration:1e3}))}),[u]);return Object(d.jsxs)(T.d,Object(E.a)(Object(E.a)({className:"mapView",ref:o},n),{},{mapboxApiAccessToken:"pk.eyJ1Ijoic2tndXB0YTc3MTU5IiwiYSI6ImNrcm9keDNkdDE1eGoycm52Y2tqdW9oNDYifQ.9hd_nWxie94gqPgMx0b_ig",onViewportChange:u,mapStyle:"mapbox://styles/skgupta77159/ckrodymtt4fuj17mvlpbwydpq",children:[Object(d.jsx)(D.a,{mapRef:o,onViewportChange:j,mapboxApiAccessToken:"pk.eyJ1Ijoic2tndXB0YTc3MTU5IiwiYSI6ImNrcm9keDNkdDE1eGoycm52Y2tqdW9oNDYifQ.9hd_nWxie94gqPgMx0b_ig",position:"top-left"}),Object(d.jsx)(T.b,{latitude:n.latitude,longitude:n.longitude,offsetLeft:-20,offsetTop:-10})]}))};function te(e){var t=Object(r.useContext)(p),a=(t.user,t.seller),c=Object(r.useContext)(m),s=c.latitude,n=c.longitude,i=Object(r.useState)(""),u=Object(l.a)(i,2),j=u[0],b=u[1],h=Object(r.useState)({storeName:"",ownerName:"",ownerEmail:"",storeAddress:""}),O=Object(l.a)(h,2),x=O[0],v=O[1],N=Object(r.useState)([]),y=Object(l.a)(N,2),I=y[0],w=y[1],C=Object(r.useState)(!1),k=Object(l.a)(C,2),T=k[0],D=k[1],P=Object(o.g)();Object(r.useEffect)((function(){a&&a.storeId&&P.push("/storedashboard/analytics")}),[a]);var A=function(){var e=Object(g.a)(f.a.mark((function e(t,a){var r,c,i,o,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],c="",null==s||null==n){e.next=10;break}return e.next=5,S.a.get("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(t,",").concat(a,".json?access_token=").concat("pk.eyJ1Ijoic2tndXB0YTc3MTU5IiwiYSI6ImNrcm9keDNkdDE1eGoycm52Y2tqdW9oNDYifQ.9hd_nWxie94gqPgMx0b_ig"));case 5:for(i=e.sent,o=i.data.features,l=1;l<o.length;l++)u=Object(F.a)({},o[l].place_type[0],o[l].text),r.push(u),c=l===o.length-1?c.concat("".concat(o[l].text)):c.concat("".concat(o[l].text,", "));v(Object(E.a)(Object(E.a)({},x),{},{storeAddress:c})),w(r);case 10:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(r.useEffect)((function(){A(n,s)}),[s,n]);var B=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;v(Object(E.a)(Object(E.a)({},x),{},Object(F.a)({},t,a)))},_=function(){var t=Object(g.a)(f.a.mark((function t(r){var c,i,o;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),D(!0),b(!1),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=4,t.next=7,S.a.post("/api/private/createstore/".concat(e.match.params.userid),Object(E.a)(Object(E.a)({},x),{},{addressList:I,userId:a._id,latitude:s,longitude:n}),c).catch((function(e){throw 409===e.response.status?(b("Invalid User"),new Error("Invalid User")):400===e.response.status?(b("User can create only one store"),new Error("Each user can register only one store")):(b("Internal Server Error"),new Error("Internal Server Error"))}));case 7:i=t.sent,o=i.data,D(!1),o&&window.location.reload(),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),D(!1),b(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"storeregContainer",children:Object(d.jsx)("div",{className:"storeregWrapper",children:Object(d.jsx)("form",{className:"storeregRight",onSubmit:_,children:Object(d.jsxs)("div",{className:"storeregBox",children:[Object(d.jsx)("h1",{children:"Store Registration"}),j?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:j})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"storeName",value:x.storeName,onChange:B}),Object(d.jsx)("label",{for:"",children:"Store Name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"ownerName",value:x.ownerName,onChange:B}),Object(d.jsx)("label",{for:"",children:"Store Owner Name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"storeregInput",name:"ownerEmail",value:x.ownerEmail,onChange:B}),Object(d.jsx)("label",{for:"email",children:"Store Owner Email"})]}),Object(d.jsx)("div",{className:"divinput",children:Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"storeAddress",value:x.storeAddress,disabled:"true",placeholder:"Search Address in below input field"})}),Object(d.jsx)("div",{className:"addressMap",children:Object(d.jsx)(ee,{})}),Object(d.jsx)("button",{type:"submit",className:"storeregButton",disabled:T,children:T?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Register"})]})})})})}a(298),a(160);var ae=a(467),re=a(455),ce=a(464);function se(e){var t=Object(r.useContext)(p).user,a=c.a.useState(!1),s=Object(l.a)(a,2),n=s[0],i=s[1],o=Object(r.useState)(t||{}),u=Object(l.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),m=O[0],x=O[1],v=function(){var t=Object(g.a)(f.a.mark((function t(a){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},t.prev=2,t.next=5,S.a.post("/api/private/buyproduct",{items:e.value,address:j.userAddress},r).catch((function(e){throw 404===e.response.status?new Error("Invalid User"):new Error("Internal Server Error")}));case 5:c=t.sent,c.data,alert("Order Successful"),N(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(2),alert("Order failed due to some error"),N();case 15:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(e){return t.apply(this,arguments)}}(),N=function(){var e=Object(g.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{children:e.signal?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("button",{className:"ckButton",onClick:function(){i(!0)},children:"Check Out"}),Object(d.jsxs)(R.a,{open:n,onClose:N,"aria-labelledby":"form-dialog-title",fullWidth:!0,maxWidth:"sm",children:[Object(d.jsx)(G.a,{id:"form-dialog-title",children:"Confirm Order"}),Object(d.jsxs)(H.a,{children:[Object(d.jsx)(J.a,{}),Object(d.jsxs)(ae.a,{"aria-label":"cod",defaultValue:"true",name:"radio-buttons-group",children:[Object(d.jsx)(re.a,{value:"cod",control:Object(d.jsx)(ce.a,{onChange:function(){return x(!0)}}),label:"Cash on Delivery"}),Object(d.jsx)(re.a,{value:"other",control:Object(d.jsx)(ce.a,{onChange:function(){return x(!1)}}),label:"Other Payment"})]}),Object(d.jsx)(Y.a,{autoFocus:!0,margin:"dense",id:"userAddress",name:"userAddress",onChange:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;b(Object(E.a)(Object(E.a)({},j),{},Object(F.a)({},t,a)))},value:j.userAddress,label:"Confirm Delivery Address",type:"text",fullWidth:!0})]}),Object(d.jsxs)(Q.a,{children:[Object(d.jsx)(L.a,{onClick:N,color:"primary",children:"Cancel"}),Object(d.jsx)(L.a,{onClick:v,color:"primary",disabled:!m,children:"Confirm Order"})]})]})]}):null})}function ne(){var e=Object(r.useContext)(p),t=e.user,a=e.dispatch,c=Object(r.useState)([]),s=Object(l.a)(c,2),n=s[0],i=s[1],o=Object(r.useState)(0),u=Object(l.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)(!1),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(r.useState)(""),N=Object(l.a)(v,2),y=(N[0],N[1]);function I(e){var r=function(){var r=Object(g.a)(f.a.mark((function r(c){var s,n;return f.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c.preventDefault(),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},x(!0),r.prev=3,r.next=6,S.a.post("/api/private/removeitemfromcart",{userId:t._id,productId:e.value._id},s).catch((function(e){throw 404===e.response.status?new Error("Invalid User"):new Error("Internal Server Error")}));case 6:n=r.sent,n.data&&(function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/private/getuser",s);case 2:t=e.sent,a(t?{type:"FETCH_SUCCESS",payload:t.data}:{type:"EMPTY_STATE"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),alert("Item removed from cart")),x(!1),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(3),y("Error Occured");case 15:case"end":return r.stop()}}),r,null,[[3,12]])})));return function(e){return r.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"cartitem",children:Object(d.jsxs)("div",{className:"cartitemWrapper",children:[Object(d.jsxs)("div",{className:"chleft",children:[Object(d.jsx)("img",{className:"cartHeaderImg",src:e.value.productImage,alt:"product image"}),Object(d.jsxs)("div",{className:"headerText",children:[Object(d.jsx)("h4",{children:e.value.productName}),Object(d.jsxs)("span",{className:"ciPrice",children:["Price: \u20b9",e.value.productPrice,"/-"]}),Object(d.jsx)("span",{className:"removeCart",onClick:r,children:"Remove"})]})]}),Object(d.jsxs)("div",{className:"secDiv",children:[Object(d.jsx)("div",{className:"chmid",children:Object(d.jsxs)("div",{className:"quanHandler",children:[Object(d.jsx)("button",{className:"idButton",onClick:function(t){if(t.preventDefault(),1!=e.value.orderQuantity){for(var a=0;a<n.length;a++)n[a]._id===e.value._id&&(e.value.orderQuantity-=1,e.value.totalPrice-=e.value.productPrice);b(j-e.value.productPrice)}},children:"-"}),Object(d.jsx)("span",{className:"idTest",children:e.value.orderQuantity}),Object(d.jsx)("button",{className:"idButton",onClick:function(t){if(t.preventDefault(),e.value.orderQuantity!=parseInt(e.value.productQuantity)){for(var a=0;a<n.length;a++)n[a]._id===e.value._id&&(e.value.orderQuantity+=1,e.value.totalPrice+=e.value.productPrice);b(j+e.value.productPrice)}},children:"+"})]})}),Object(d.jsx)("div",{className:"chright",children:Object(d.jsxs)("span",{className:"ciPrice",children:["\u20b9",e.value.totalPrice,"/-"]})})]})]})})}return Object(r.useEffect)((function(){(function(){var e=Object(g.a)(f.a.mark((function e(){var a,r,c,s,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},e.prev=2,e.next=5,S.a.post("/api/private/getallcartitem",{userId:t._id},a).catch((function(e){throw 404===e.response.status?(y("Product Not Found"),new Error("Product Not Found")):(y("Internal Server Error"),new Error("Internal Server Error"))}));case 5:for(r=e.sent,c=r.data,s=0,n=0;n<c.length;n++)c[n].customerId=t._id,c[n].customerName="".concat(t.firstname," ").concat(t.lastname),c[n].totalPrice=c[n].productPrice,c[n].orderQuantity=1,s+=c[n].productPrice,b(s);i(c),console.log(c),x(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.log("Error Occured"),x(!1);case 18:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(d.jsx)("div",{className:"addtocartpage",children:Object(d.jsxs)("div",{className:"addtocartpageWrapper",children:[m?Object(d.jsx)(q.a,{color:"inherit",size:"30px"}):0==n.length?Object(d.jsx)("h2",{children:"Your cart is empty"}):n.map((function(e,t){return Object(d.jsx)(I,{value:e})})),Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsx)("hr",{}),Object(d.jsxs)("b",{children:[Object(d.jsx)("span",{className:"gt",children:"Grand Total"}),Object(d.jsxs)("span",{children:["\u20b9",j,"/-"]})]}),Object(d.jsx)(se,{signal:!0,value:n})]})]})})}a(299);function ie(e){var t=Object(r.useState)({}),a=Object(l.a)(t,2),c=a[0],s=a[1];return Object(r.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("/api/private/getsingleproduct/".concat(e.value.productId)).catch((function(e){throw console.log(e),404===e.response.status?new Error("Product Not Found"):new Error("Internal Server Error")}));case 3:a=t.sent,r=a.data,s(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}})()()}),[e.value]),Object(d.jsx)("div",{className:"historyCarditem",children:Object(d.jsxs)("div",{className:"historyCarditemWrapper",children:[Object(d.jsxs)("div",{className:"hcleft",children:[Object(d.jsx)("img",{className:"historyCardHeaderImg",src:c.productImage,alt:"product image"}),Object(d.jsxs)("div",{className:"headerText",children:[Object(d.jsx)("h4",{children:c.productName}),Object(d.jsxs)("span",{className:"hcPrice",children:["Price: \u20b9",c.productPrice,"/-"]})]})]}),Object(d.jsxs)("div",{className:"hcsecDiv",children:[Object(d.jsx)("div",{className:"historyTS",children:Object(d.jsxs)("span",{className:"orderTime",children:["Ordered on ",e.value.createdAt.split("T")[0]]})}),Object(d.jsxs)("div",{className:"c2",children:[Object(d.jsx)("div",{className:"sec1",children:Object(d.jsx)("div",{className:"quanHandler",children:Object(d.jsxs)("span",{className:"itemQuan",children:["Quantity: ",e.value.quantity]})})}),Object(d.jsx)("div",{className:"sec2",children:Object(d.jsxs)("span",{className:"totPrice",children:["Total: \u20b9",e.value.totalPrice,"/-"]})}),Object(d.jsx)("div",{className:"sec3",children:Object(d.jsxs)("span",{className:"statusTxt",children:["Status: ",e.value.status]})})]})]})]})})}a(300);function oe(){var e=Object(r.useContext)(p).user,t=Object(r.useState)([]),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},t.prev=1,u(!0),t.next=5,S.a.post("/api/private/getorderhistory",{userId:e._id},a).catch((function(e){throw console.log(e),404===e.response.status?new Error("Product Not Found"):new Error("Internal Server Error")}));case 5:r=t.sent,c=r.data,s(c),u(!1),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(1),console.log("Error Occured"),u(!1);case 15:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(){return t.apply(this,arguments)}})()()}),[e]),Object(d.jsx)("div",{className:"orderhistory",children:o?Object(d.jsx)(q.a,{color:"inherit",size:"30px"}):Object(d.jsx)("div",{className:"orderHistoryWrapper",children:0==c.length?Object(d.jsx)("h2",{children:"No history to show"}):c.map((function(e,t){return Object(d.jsx)(ie,{value:e})}))})})}function le(e){var t=Object(o.g)(),a=Object(r.useContext)(p),c=(a.user,a.dispatch),s=Object(r.useContext)(C),n=s.isOpen,i=s.setOpen,l=function(e){e.preventDefault(),i(),t.push("/userdashboard/".concat(e.target.id))};return Object(d.jsxs)("div",{className:"userdashboard",children:[Object(d.jsx)("div",{className:"left "+(n&&"active"),children:Object(d.jsxs)("ul",{className:"dashboardul",children:[Object(d.jsx)("li",{id:"profile",className:"dashboardListItem",onClick:l,children:"My Account"}),Object(d.jsx)("li",{id:"orderhistory",className:"dashboardListItem",onClick:l,children:"My Orders"}),Object(d.jsx)("li",{id:"addtocart",className:"dashboardListItem",onClick:l,children:"My Cart"}),Object(d.jsx)("hr",{className:"dashHr"}),Object(d.jsx)("li",{id:"logout",className:"dashListItemLogout",onClick:function(){localStorage.removeItem("authToken"),c({type:"EMPTY_STATE"}),t.push("/signin")},children:"Logout"})]})}),Object(d.jsx)("div",{className:"right",children:function(){switch(e.match.params.page){case"profile":return Object(d.jsx)(X,{});case"addtocart":return Object(d.jsx)(ne,{});case"orderhistory":return Object(d.jsx)(oe,{});default:return Object(d.jsx)("div",{className:"notFoundDiv",children:Object(d.jsx)("h2",{children:"Sorry, Page Not Found!"})})}}()})]})}a(301),a(302);var ue=a(130),de=function(){var e=Object(r.useContext)(p).seller,t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),u=i[0],j=i[1],b=Object(o.g)(),h=Object(r.useState)([{ownerId:"",storeId:"",productId:"",status:"",quantity:"",totalPrice:""}]),O=Object(l.a)(h,2),m=O[0],x=O[1],v=Object(r.useState)([{productName:"abcdd",productDescription:"",productImage:"",productPrice:NaN,productDetails:"",productQuantity:""}]),N=Object(l.a)(v,2),y=N[0],I=N[1],w=Object(r.useState)(),C=Object(l.a)(w,2),k=C[0],E=C[1],T=Object(r.useState)(),D=Object(l.a)(T,2),P=D[0],A=D[1],B=Object(r.useState)(),_=Object(l.a)(B,2),F=_[0],q=_[1],U=Object(r.useState)(),M=Object(l.a)(U,2),z=M[0],W=M[1],L=Object(r.useState)(),Y=Object(l.a)(L,2),R=Y[0],Q=Y[1],H=Object(r.useState)(),J=Object(l.a)(H,2),G=J[0],V=J[1],X=Object(r.useState)(),K=Object(l.a)(X,2),Z=K[0],$=K[1],ee=Object(r.useState)(),te=Object(l.a)(ee,2),ae=te[0],re=te[1],ce=Object(r.useState)(),se=Object(l.a)(ce,2),ne=se[0],ie=se[1],oe=Object(r.useState)(),le=Object(l.a)(oe,2),de=le[0],je=le[1],pe=Object(r.useState)(),be=Object(l.a)(pe,2),he=be[0],Oe=be[1],me=Object(r.useState)(),xe=Object(l.a)(me,2),ve=xe[0],fe=xe[1],ge=Object(r.useState)(),Ne=Object(l.a)(ge,2),Se=Ne[0],ye=Ne[1];Object(r.useEffect)((function(){(e&&(e.storeId||b.push("/createstore/".concat(e._id))),e)&&function(){var t=Object(g.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),s(!1),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=3,j(!0),t.next=7,S.a.post("/api/private/storedashboard/analytics",{storeId:e.storeId},a).catch((function(e){throw 409===e.response.status?(s("Invalid seller"),new Error("Invalid seller")):(s("Internal Server Error"),new Error("Internal Server Error"))}));case 7:r=t.sent,c=r.data,x(c.orders),I(c.products),E(c.storename),A(c.jan),q(c.feb),W(c.march),Q(c.april),V(c.may),$(c.june),re(c.july),ie(c.aug),je(c.sept),Oe(c.oct),fe(c.nov),ye(c.dec),j(!1),t.next=31;break;case 27:t.prev=27,t.t0=t.catch(3),j(!1),s(t.t0.message);case 31:case"end":return t.stop()}}),t,null,[[3,27]])})));return function(){return t.apply(this,arguments)}}()()}),[e]);var Ie=0;m&&m.forEach((function(e){Ie+=parseFloat(e.totalPrice)}));var we=0;y&&y.forEach((function(e){"0"===e.productQuantity&&(we+=1)}));var Ce={labels:["January","February","March","April","May","June","July","August","September","October","November","December"],datasets:[{label:"SALES",lineTension:.5,backgroundColor:["blue"],borderColor:"blue",color:"#666",hoverBackgroundColor:["rgb(197, 72, 49)"],data:[P,F,z,R,G,Z,ae,ne,de,he,ve,Se]}]},ke={labels:["Out of Stock","InStock"],datasets:[{backgroundColor:["#00A6B4","#6800B4"],hoverBackgroundColor:["#4B5000","#35014F"],data:[we,y.length-we]}]};return Object(d.jsx)("div",{className:"dashboard",children:Object(d.jsxs)("div",{className:"dashboardContainer",children:[Object(d.jsx)("h1",{children:Object(d.jsx)("b",{className:"storename",children:k})}),Object(d.jsx)("h1",{children:Object(d.jsx)("b",{children:"Analytics"})}),c?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:c})}):null,u?Object(d.jsx)("h2",{children:"Loading..."}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"dashboardSummary",children:Object(d.jsxs)("div",{className:"dashboardSummaryBox2",children:[Object(d.jsxs)("div",{className:"dsbCard",children:[Object(d.jsx)("p",{children:"Total Sales Price"}),Object(d.jsxs)("p",{children:["\u20b9",Ie]})]}),Object(d.jsxs)("div",{className:"dsbCard",children:[Object(d.jsx)("p",{children:"Total Products ordered"}),Object(d.jsx)("p",{children:y&&y.length})]}),Object(d.jsxs)("div",{className:"dsbCard",children:[Object(d.jsx)("p",{children:"Orders Delivered"}),Object(d.jsx)("p",{children:m&&m.length})]})]})}),Object(d.jsx)("div",{className:"lineChart",children:Object(d.jsx)(ue.b,{data:Ce})}),Object(d.jsxs)("div",{className:"doughnutChart",children:[Object(d.jsx)("h2",{children:"Product Stock"}),Object(d.jsx)(ue.a,{data:ke})]})]})]})})},je=(a(181),a(459)),pe=a(461),be=a(457),he=a(458),Oe=a(460),me=a(456),xe=a(447),ve=a(463),fe=a(470),ge=a(471),Ne=a(453);function Se(e){var t=Object(r.useContext)(p),a=(t.user,t.seller),c=Object(r.useState)(!1),s=Object(l.a)(c,2),n=s[0],i=s[1],o=Object(r.useState)(e.value.status),u=Object(l.a)(o,2),j=u[0],b=u[1],h=Object(r.useState)(""),O=Object(l.a)(h,2),m=(O[0],O[1]),x=function(){var t=Object(g.a)(f.a.mark((function t(r){var c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),i(!0),m(!1),c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=4,t.next=7,S.a.post("/api/private/storedashboard/orders",{orderId:e.value.orderId,storeId:a.storeId,ownerId:a._id,status:j},c).catch((function(e){throw 409===e.response.status?(m("Invalid User"),new Error("Invalid User")):(m("Internal Server Error"),new Error("Internal Server Error"))}));case 7:s=t.sent,s.data,i(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),i(!1),m(t.t0.message);case 16:alert("Status Updated Successfully");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsxs)(me.a,{children:[Object(d.jsxs)(be.a,{align:"left",children:[e.value.orderId," ",Object(d.jsx)("br",{})," ",Object(d.jsx)("br",{})," ",Object(d.jsxs)("span",{children:[Object(d.jsx)("b",{children:"Ordered on:"})," ",e.value.createdAt.split("T")[0]]})]}),Object(d.jsxs)(be.a,{align:"left",children:[e.value.customerName," ",Object(d.jsx)("br",{}),Object(d.jsx)("b",{children:"Address : "}),e.value.deliveryAddress]}),Object(d.jsx)(be.a,{align:"left",children:e.value.quantity}),Object(d.jsxs)(be.a,{children:[Object(d.jsxs)("label",{children:[Object(d.jsx)("b",{children:"Name : \xa0 "}),Object(d.jsx)("p",{align:"left",children:e.value.productName})]}),Object(d.jsxs)("label",{children:[Object(d.jsx)("b",{children:"Price : \xa0 "}),Object(d.jsxs)("span",{align:"left",children:["\u20b9",e.value.totalPrice,"/-"]})]})]}),Object(d.jsx)(be.a,{align:"left",children:Object(d.jsxs)(Ne.a,{variant:"outlined",halfWidth:!0,children:[Object(d.jsx)(fe.a,{children:"status"}),Object(d.jsxs)(ve.a,{value:j,label:"status",onChange:function(e){b(e.target.value)},children:[Object(d.jsx)(ge.a,{value:"Ordered",children:"Ordered"}),Object(d.jsx)(ge.a,{value:"Inprocess",children:"Inprocess"}),Object(d.jsx)(ge.a,{value:"Delivered",children:"Delivered"})]})]})}),Object(d.jsx)(be.a,{children:Object(d.jsx)("button",{type:"submit",onClick:x,className:"statusButton",disabled:n,children:n?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Update Status"})})]})}var ye=function(){var e=Object(r.useContext)(p).seller,t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),u=i[0],j=i[1],b=(Object(o.g)(),Object(r.useState)([])),h=Object(l.a)(b,2),O=h[0],m=h[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(g.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),s(!1),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=3,t.next=6,S.a.post("/api/private/storedashboard/orders",{storeId:e.storeId,ownerId:e._id},a).catch((function(e){throw 409===e.response.status?(s("Invalid User"),new Error("Invalid User")):(s("Internal Server Error"),new Error("Internal Server Error"))}));case 6:r=t.sent,c=r.data,m(c),j(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),s(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"heading",children:Object(d.jsx)("h1",{children:"All Order Store  Page "})}),c?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:c})}):null,Object(d.jsx)(he.a,{component:xe.a,children:Object(d.jsxs)(je.a,{sx:{minWidth:650},"aria-label":"simple table",children:[Object(d.jsx)(Oe.a,{children:Object(d.jsxs)(me.a,{children:[Object(d.jsx)(be.a,{align:"left",children:"Order Id"}),Object(d.jsx)(be.a,{align:"left",children:"Customer Name"}),Object(d.jsx)(be.a,{align:"left",children:"Quantity"}),Object(d.jsx)(be.a,{align:"left",children:"Product Name"}),Object(d.jsx)(be.a,{align:"left",children:"Status"})]})}),Object(d.jsx)(pe.a,{children:u?Object(d.jsx)("div",{className:"crBar",children:Object(d.jsx)(q.a,{color:"inherit",size:"40px"})}):O.map((function(e){return Object(d.jsx)(Se,{value:e})}))})]})})]})},Ie=(a(408),function(){var e=Object(r.useContext)(p).seller,t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),u=i[0],j=i[1],b=(Object(o.g)(),Object(r.useState)({storeName:"",ownerName:"",ownerEmail:"",storeAddress:""})),h=Object(l.a)(b,2),O=h[0],m=h[1],x=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;m(Object(E.a)(Object(E.a)({},O),{},Object(F.a)({},t,a)))},v=function(){var t=Object(g.a)(f.a.mark((function t(a){var r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),j(!0),s(!1),r={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=4,t.next=7,S.a.post("/api/private/storedashboard/setting",Object(E.a)(Object(E.a)({},O),{},{storeId:e.storeId}),r).catch((function(e){throw 409===e.response.status?(s("Invalid User"),new Error("Invalid User")):(s("Internal Server Error"),new Error("Internal Server Error"))}));case 7:c=t.sent,c.data,j(!1),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(4),j(!1),s(t.t0.message);case 16:alert("Store Updated Successfully");case 17:case"end":return t.stop()}}),t,null,[[4,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){e&&function(){var t=Object(g.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),s(!1),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=3,t.next=6,S.a.post("/api/private/storedashboard/setting",{storeId:e.storeId},a).catch((function(e){throw 409===e.response.status?(s("Invalid User"),new Error("Invalid User")):(s("Internal Server Error"),new Error("Internal Server Error"))}));case 6:r=t.sent,c=r.data,m(c.store),j(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),s(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(d.jsx)("div",{className:"storeregContainer",children:Object(d.jsx)("div",{className:"storeregWrapper",children:Object(d.jsx)("form",{className:"storeregRight",onSubmit:v,children:Object(d.jsxs)("div",{className:"storeregBox",children:[Object(d.jsx)("h1",{children:"Update Store Page"}),c?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:c})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"storeName",value:O.storeName,onChange:x}),Object(d.jsx)("label",{for:"",children:"Store Name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"ownerName",value:O.ownerName,onChange:x}),Object(d.jsx)("label",{for:"",children:"Store Owner Name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"storeregInput",name:"ownerEmail",value:O.ownerEmail,onChange:x}),Object(d.jsx)("label",{for:"email",children:"Store Owner Email"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"storeregInput",name:"storeAddress",value:O.storeAddress}),Object(d.jsx)("label",{for:"",children:"Store Address"})]}),Object(d.jsx)("button",{type:"submit",className:"storeUpdateButton",disabled:u,children:u?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Update Store"})]})})})})}),we=(a(409),a(462)),Ce=function(){var e=Object(r.useContext)(p).seller,t=Object(r.useState)(""),a=Object(l.a)(t,2),c=a[0],s=a[1],n=Object(r.useState)(!1),i=Object(l.a)(n,2),u=(i[0],i[1]),j=(Object(o.g)(),Object(r.useState)([{productName:"",productDescription:"",productImage:"",productPrice:"",productDetails:"",productQuantity:""}])),b=Object(l.a)(j,2),h=b[0],O=b[1];return Object(r.useEffect)((function(){e&&function(){var t=Object(g.a)(f.a.mark((function t(){var a,r,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),s(!1),a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},t.prev=3,t.next=6,S.a.post("/api/private/storedashboard/allstoreproduct",{storeId:e.storeId},a).catch((function(e){throw 409===e.response.status?(s("Invalid User"),new Error("Invalid User")):(s("Internal Server Error"),new Error("Internal Server Error"))}));case 6:r=t.sent,c=r.data,O(c.products),u(!1),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),s(t.t0.message);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"heading",children:Object(d.jsx)("h1",{children:"All Store Product Page "})}),h.map((function(e,t){return Object(d.jsx)("div",{className:"allproductContainer",children:Object(d.jsx)("div",{className:"allproductWrapper",children:Object(d.jsx)("div",{className:"allproductRight",children:Object(d.jsxs)("div",{className:"allproductBox",children:[c?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:c})}):null,Object(d.jsx)("div",{children:Object(d.jsx)(we.a,{className:"productImg1",image:e.productImage,title:"Image"})}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.productName}),Object(d.jsx)("span",{className:"productPrice",children:"\u20b9".concat(e.productPrice,"/-")})," ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("label",{children:[" ",Object(d.jsx)("b",{children:"Stock : "}),Object(d.jsx)("span",{children:e.productQuantity})]}),Object(d.jsx)("p",{children:e.productDescription}),Object(d.jsx)("p",{children:e.productDetails})]})]})})})})}))]})};function ke(e){var t=Object(o.g)(),a=Object(r.useContext)(p).dispatch,c=Object(r.useContext)(C),s=c.isOpen,n=c.setOpen,i=function(e){e.preventDefault(),n(),t.push("/storedashboard/".concat(e.target.id))};return Object(d.jsxs)("div",{className:"storedashboard",children:[Object(d.jsx)("div",{className:"left "+(s&&"active"),children:Object(d.jsxs)("ul",{className:"dashboardul",children:[Object(d.jsx)("li",{id:"analytics",className:"dashboardListItem",onClick:i,children:"Analytics"}),Object(d.jsx)("li",{id:"addstoreproduct",className:"dashboardListItem",onClick:i,children:"Add Product"}),Object(d.jsx)("li",{id:"allstoreproduct",className:"dashboardListItem",onClick:i,children:"All Product"}),Object(d.jsx)("li",{id:"orders",className:"dashboardListItem",onClick:i,children:"Orders"}),Object(d.jsx)("li",{id:"setting",className:"dashboardListItem",onClick:i,children:"Setting"}),Object(d.jsx)("hr",{className:"dashHr"}),Object(d.jsx)("li",{id:"logout",className:"dashListItemLogout",onClick:function(){localStorage.removeItem("storeauthToken"),a({type:"EMPTY_STATE"}),t.push("/storesignin")},children:"Logout"})]})}),Object(d.jsx)("div",{className:"right",children:function(){switch(e.match.params.page){case"analytics":return Object(d.jsx)(de,{});case"addstoreproduct":return Object(d.jsx)(U,{});case"allstoreproduct":return Object(d.jsx)(Ce,{});case"orders":return Object(d.jsx)(ye,{});case"setting":return Object(d.jsx)(Ie,{});default:return Object(d.jsx)("div",{className:"notFoundDiv",children:Object(d.jsx)("h2",{children:"Sorry, Page Not Found!"})})}}()})]})}a(410);function Ee(e){var t=Object(r.useContext)(p),a=t.user,c=t.dispatch,s=Object(r.useState)({}),n=Object(l.a)(s,2),i=n[0],u=n[1],j=Object(r.useState)(!1),b=Object(l.a)(j,2),h=b[0],O=b[1],m=Object(r.useState)(""),x=Object(l.a)(m,2),v=(x[0],x[1]),N=Object(o.g)();Object(r.useEffect)((function(){(function(){var t=Object(g.a)(f.a.mark((function t(){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),t.prev=1,t.next=4,S.a.get("/api/private/getsingleproduct/".concat(e.match.params.productId)).catch((function(e){throw 404===e.response.status?(v("Product Not Found"),new Error("Product Not Found")):(v("Internal Server Error"),new Error("Internal Server Error"))}));case 4:a=t.sent,r=a.data,u(r),O(!1),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),console.log("Error Occured"),O(!1);case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(){return t.apply(this,arguments)}})()()}),[]);var y=function(){var t=Object(g.a)(f.a.mark((function t(r){var s,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("authToken"))}},!a){t.next=19;break}return O(!0),t.prev=4,t.next=7,S.a.post("/api/private/additemtocart",{userId:a._id,productId:e.match.params.productId},s).catch((function(e){throw 404===e.response.status?(v("Invalid User"),new Error("Invalid User")):(v("Internal Server Error"),new Error("Internal Server Error"))}));case 7:n=t.sent,n.data&&(function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("/api/private/getuser",s);case 2:t=e.sent,c(t?{type:"FETCH_SUCCESS",payload:t.data}:{type:"EMPTY_STATE"});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),alert("Item added to cart")),O(!1),t.next=17;break;case 13:t.prev=13,t.t0=t.catch(4),O(!1),v("Error Occured");case 17:t.next=21;break;case 19:alert("Please login to continue"),N.push("/signin");case 21:case"end":return t.stop()}}),t,null,[[4,13]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"singleproduct",children:Object(d.jsx)("div",{className:"singleproductWrapper",children:h?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"spLeft",children:Object(d.jsx)("img",{className:"spImage",src:i.productImage,alt:"Product Image"})}),Object(d.jsxs)("div",{className:"spRight",children:[Object(d.jsx)("h2",{className:"spName",children:i.productName}),Object(d.jsx)("p",{className:"spstoreName",children:i.storeName}),Object(d.jsxs)("span",{className:"spPrice",children:["\u20b9",i.productPrice,"/-"]}),Object(d.jsx)("br",{}),Object(d.jsxs)("label",{className:"spQuantity",children:["Available Stock : ",Object(d.jsx)("span",{children:i.productQuantity})]}),Object(d.jsx)("br",{}),Object(d.jsx)("p",{className:"spDescription",children:i.productDescription}),Object(d.jsx)("p",{className:"spDetails",children:i.productDetails}),Object(d.jsx)("button",{className:"spAddtocart",onClick:y,children:"Add to Cart"})]})]})})})}var Te=function(e,t){switch(t.type){case"SET_ITEMS":case"EDIT_ITEMS":return{items:t.payload};default:return e}},De={items:[]},Pe=Object(r.createContext)(De),Ae=function(e){var t=e.children,a=Object(r.useReducer)(Te,De),c=Object(l.a)(a,2),s=c[0],n=c[1];return Object(d.jsx)(Pe.Provider,{value:{items:s.items,cartDispatch:n},children:t})};a(411);function Be(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({firstname:"",lastname:"",email:"",password:"",cpassword:""}),n=Object(l.a)(s,2),i=n[0],u=n[1],j=Object(r.useState)(!1),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(o.g)(),m=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;u(Object(E.a)(Object(E.a)({},i),{},Object(F.a)({},t,a)))},x=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),c(!1),a={header:{"Content-Type":"application/json"}},i.password!==i.cpassword){e.next=20;break}return e.prev=5,e.next=8,S.a.post("/api/auth/storesignup",i,a).catch((function(e){throw 409===e.response.status?(c("User Already Exist!"),new Error("user already exist")):(c("Internal Server Error"),new Error("Internal Server Error"))}));case 8:r=e.sent,s=r.data,localStorage.setItem("storeauthToken",s.token),h(!1),O.push("/storesignin"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),h(!1);case 18:e.next=22;break;case 20:alert("Password don't match!"),h(!1);case 22:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"signupContainer",children:Object(d.jsx)("div",{className:"signupWrapper",children:Object(d.jsx)("form",{className:"signupRight",onSubmit:x,children:Object(d.jsxs)("div",{className:"signupBox",children:[Object(d.jsx)("h1",{children:"Create your business account and start selling today \ud83d\ude0a"}),a?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:a})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"signupInput",name:"firstname",value:i.firstname,onChange:m}),Object(d.jsx)("label",{for:"",children:"First name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"text",required:!0,className:"signupInput",name:"lastname",value:i.lastname,onChange:m}),Object(d.jsx)("label",{for:"",children:"Last name"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"signupInput",name:"email",value:i.email,onChange:m}),Object(d.jsx)("label",{for:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"signupInput",name:"password",value:i.password,onChange:m}),Object(d.jsx)("label",{for:"",children:"Password"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"signupInput",name:"cpassword",value:i.cpassword,onChange:m}),Object(d.jsx)("label",{for:"",children:"Confirm Password"})]}),Object(d.jsx)("button",{type:"submit",className:"signupButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Sign Up"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),O.push("/storesignin")},className:"loginRegisterButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Log Into Account"})]})})})})}a(412);function _e(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],c=t[1],s=Object(r.useState)({email:"",password:""}),n=Object(l.a)(s,2),i=n[0],u=n[1],j=Object(r.useState)(!1),p=Object(l.a)(j,2),b=p[0],h=p[1],O=Object(o.g)(),m=function(e){e.preventDefault();var t=e.target.name,a=e.target.value;u(Object(E.a)(Object(E.a)({},i),{},Object(F.a)({},t,a)))},x=function(){var e=Object(g.a)(f.a.mark((function e(t){var a,r,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),h(!0),c(!1),a={header:{"Content-Type":"application/json"}},e.prev=4,e.next=7,S.a.post("/api/auth/storesignin",i,a);case 7:r=e.sent,s=r.data,localStorage.setItem("storeauthToken",s.token),h(!1),O.push("/storedashboard/analytics"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),c(e.t0.response.data.error),h(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"loginContainer",children:Object(d.jsx)("div",{className:"loginWrapper",children:Object(d.jsx)("form",{className:"loginRight",onSubmit:x,children:Object(d.jsxs)("div",{className:"loginBox",children:[Object(d.jsx)("h1",{children:"Login as seller account and start selling today \ud83d\ude0a"}),a?Object(d.jsx)("div",{className:"errorDiv",children:Object(d.jsx)("span",{className:"errorMessage",children:a})}):null,Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"email",required:!0,className:"loginInput",name:"email",value:i.email,onChange:m}),Object(d.jsx)("label",{for:"email",children:"Email"})]}),Object(d.jsxs)("div",{className:"divinput",children:[Object(d.jsx)("input",{type:"password",required:!0,className:"loginInput",name:"password",value:i.password,onChange:m}),Object(d.jsx)("label",{for:"",children:"Password"})]}),Object(d.jsx)("button",{type:"submit",className:"loginButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Log In"}),Object(d.jsx)("span",{className:"loginForgot",children:"Forgot password?"}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),O.push("/storesignup")},className:"loginRegisterButton",disabled:b,children:b?Object(d.jsx)(q.a,{color:"inherit",size:"20px"}):"Create New Account"})]})})})})}var Fe=["component"],qe=function(e){var t=e.component,a=Object(K.a)(e,Fe),c=Object(r.useContext)(p).dispatch,s={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("storeauthToken"))}},n=function(){var e=Object(g.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/private/getseller",s);case 3:t=e.sent,c(t?{type:"FETCH_SUCCESS",seller:t.data}:{type:"EMPTY_STATE"}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){n()}),[]),Object(d.jsx)(o.b,Object(E.a)(Object(E.a)({},a),{},{render:function(e){return localStorage.getItem("storeauthToken")?Object(d.jsx)(t,Object(E.a)({},e)):Object(d.jsx)(o.a,{to:"/storesignin"})}}))};var Ue=function(){var e=Object(r.useContext)(p);return e.user,e.seller,Object(d.jsx)(b,{children:Object(d.jsx)(x,{children:Object(d.jsx)(w,{children:Object(d.jsx)(Ae,{children:Object(d.jsx)("div",{className:"App",children:Object(d.jsxs)(i.a,{children:[Object(d.jsx)(k,{}),Object(d.jsx)("div",{className:"appWrapper",children:Object(d.jsxs)(o.d,{children:[Object(d.jsx)(o.b,{exact:!0,path:"/",component:M}),Object(d.jsx)(o.b,{exact:!0,path:"/signin",component:z}),Object(d.jsx)(o.b,{exact:!0,path:"/signup",component:W}),Object(d.jsx)(o.b,{exact:!0,path:"/storesignin",component:_e}),Object(d.jsx)(o.b,{exact:!0,path:"/storesignup",component:Be}),Object(d.jsx)(o.b,{exact:!0,path:"/product/:productId",component:Ee}),Object(d.jsx)(qe,{exact:!0,path:"/createstore/:userid",component:te}),Object(d.jsx)($,{exact:!0,path:"/addproduct",component:U}),Object(d.jsx)($,{exact:!0,path:"/userdashboard/:page",component:le}),Object(d.jsx)(qe,{exact:!0,path:"/storedashboard/:page",component:ke})]})})]})})})})})})};n.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(Ue,{})}),document.getElementById("root"))}},[[413,1,2]]]);
//# sourceMappingURL=main.e1a81dc2.chunk.js.map